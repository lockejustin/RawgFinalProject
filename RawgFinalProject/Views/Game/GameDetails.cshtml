@{
    ViewData["Title"] = "GameDetails";
}

@model Game

<h2>@Model.name</h2>

<p>Game Description: @Model.description_raw</p>

<p>Metacritic Score: @Model.metacritic</p>

<p>Release Date: @Model.released</p>

<p>Playtime: @Model.playtime</p>

<p>
    Platforms:
    @for (int i = 0; i < Model.platforms.Length; i++)
        if (i < Model.platforms.Length - 1)
        {
            @($"{Model.platforms[i].platform.name}, ")
        }
        else
        {
            @($"{Model.platforms[i].platform.name}")
        }
</p>

<p>
    Developers:
    @for (int i = 0; i < Model.developers.Length; i++)
        if (i < Model.developers.Length - 1)
        {
    <a href="../Game/GetGameByDeveloper?id=@Model.developers[i].id" method="post"> @($"{Model.developers[i].name}")</a><span>,&nbsp</span>
        }
        else
        {
            <a href="../Game/GetGameByDeveloper?id=@Model.developers[i].id" method="post"> @($"{Model.developers[i].name}")</a>
        }
</p>

<p>
    Publishers:
    @for (int i = 0; i < Model.publishers.Length; i++)
        if (i < Model.publishers.Length - 1)
        {
            <a href="../Game/GetGameByPublisher?id=@Model.publishers[i].id" method="post">  @($"{Model.publishers[i].name}")</a><span>,&nbsp</span>
        }
        else
        {
            <a href="../Game/GetGameByPublisher?id=@Model.publishers[i].id" method="post">  @($"{Model.publishers[i].name}")</a>
        }
</p>

<p>
    Tags:
    @for (int i = 0; i < Model.tags.Length; i++)
        if (i < Model.tags.Length - 1)
        {
            @($"{Model.tags[i].name}, ")
        }
        else
        {
            @($"{Model.tags[i].name}")
        }
</p>

@if (Model.esrb_rating != null)
{
    <p>ESRB Rating: @Model.esrb_rating.name</p>
}
@if (Model.clip != null)
{
<video width="320" height="240" controls autoplay muted>
    <source src="@Model.clip.clips.full" type="video/mp4">
    Your browser does not support the video tag.
</video>
}



